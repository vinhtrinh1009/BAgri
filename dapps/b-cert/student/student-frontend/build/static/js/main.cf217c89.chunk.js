(this.webpackJsonpstudent_frontend=this.webpackJsonpstudent_frontend||[]).push([[0],{298:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),i=n(17),s=n.n(i),o=n(21),l=(n(271),n(16)),j=n(373),b=n(299),u=n(261),d=Object(b.a)((function(){return Object(u.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),h=function(){return d(),null},p=n(253),x=n(15),O=n(235),g=n.n(O),m=Object(p.a)({palette:{background:{dark:"#F4F6F8",default:x.a.common.white,paper:x.a.common.white},primary:g.a,text:{primary:x.a.blueGrey[900],secondary:x.a.blueGrey[600]}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),f=n(14),v=n.n(f),y=n(19),k=n(23),w=n(120),S=n(375),C=n(380),N=n(84),P=n(341),T=n(301),E=n(378),A=n(343),W=n(338),z=n(339),I=n(340),K=n(8),H=n(58),B=n(3),D=n(300),M=n(337),G=Object(b.a)((function(e){return{item:{display:"flex",paddingTop:0,paddingBottom:0},button:{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightMedium,justifyContent:"flex-start",letterSpacing:0,padding:"10px 8px",textTransform:"none",width:"100%"},icon:{marginRight:e.spacing(1)},title:{marginRight:"auto"},active:{color:e.palette.primary.main,"& $title":{fontWeight:e.typography.fontWeightMedium},"& $icon":{color:e.palette.primary.main}}}})),q=function(e){var t=e.className,n=e.href,r=e.icon,c=e.title,i=Object(H.a)(e,["className","href","icon","title"]),s=G();return Object(a.jsx)(D.a,Object(K.a)(Object(K.a)({className:Object(B.a)(s.item,t),disableGutters:!0},i),{},{children:Object(a.jsxs)(M.a,{activeClassName:s.active,className:s.button,component:o.c,to:n,children:[r&&Object(a.jsx)(r,{className:s.icon,size:"20"}),Object(a.jsx)("span",{className:s.title,children:c})]})}))},F=n(10),L=[{href:"/nh/thong-tin-ca-nhan",icon:W.a,title:"Th\xf4ng tin c\xe1 nh\xe2n"},{href:"/nh/quan-ly-tai-khoan",icon:z.a,title:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n"},{href:"/nh/chia-se-bang-cap",icon:I.a,title:"Chia s\u1ebb b\u1eb1ng c\u1ea5p"}],J=Object(b.a)((function(){return{mobileDrawer:{width:256},desktopDrawer:{width:256,top:64,height:"calc(100% - 64px)"},avatar:{cursor:"pointer",width:64,height:64}}})),R=function(e){var t=e.onMobileClose,n=e.openMobile,c=J(),i=Object(l.f)(),s=Object(F.c)((function(e){return e.studentProfileSlice}));Object(r.useEffect)((function(){n&&t&&t()}),[i.pathname]);var j=Object(a.jsxs)(S.a,{height:"100%",display:"flex",flexDirection:"column",children:[Object(a.jsxs)(S.a,{alignItems:"center",display:"flex",flexDirection:"column",p:2,children:[Object(a.jsx)(C.a,{className:c.avatar,component:o.b,src:s.imgSrc,to:"/nh/thong-tin-ca-nhan"}),Object(a.jsx)(N.a,{className:c.name,color:"textPrimary",variant:"h5",children:s.name}),Object(a.jsx)(N.a,{color:"textSecondary",variant:"body2",children:s.level||"Sinh vi\xean \u0110\u1ea1i h\u1ecdc"})]}),Object(a.jsx)(P.a,{}),Object(a.jsx)(S.a,{p:2,children:Object(a.jsx)(T.a,{children:L.map((function(e){return Object(a.jsx)(q,{href:e.href,title:e.title,icon:e.icon},e.title)}))})}),Object(a.jsx)(S.a,{flexGrow:1})]});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(E.a,{lgUp:!0,children:Object(a.jsx)(A.a,{anchor:"left",classes:{paper:c.mobileDrawer},onClose:t,open:n,variant:"temporary",children:j})}),Object(a.jsx)(E.a,{mdDown:!0,children:Object(a.jsx)(A.a,{anchor:"left",classes:{paper:c.desktopDrawer},open:!0,variant:"persistent",children:j})})]})};R.defaultProps={onMobileClose:function(){},openMobile:!1};var _=R,Q=n(345),V=n(346),U=n(347),X=n(348),Y=n(238),$=n.n(Y),Z=n(239),ee=n.n(Z),te=n(237),ne=n.n(te),ae=function(e){return Object(a.jsx)("img",Object(K.a)({alt:"Logo",src:"/static/logo.svg"},e))},re=n(41),ce=n(69),ie=Object(ce.createSlice)({name:"studentProfileSlice",initialState:{fetching:!0},reducers:{setProfile:function(e,t){Object.assign(e,t.payload),e.fetching=!1},updateImgSrc:function(e,t){e.imgSrc=t.payload}}}),se=ie.actions,oe=se.setProfile,le=se.updateImgSrc,je=ie.reducer,be=(0,n(69).createSlice)({name:"sawtoothAccountsSlice",initialState:{fetching:!0,accounts:[]},reducers:{setFetchedAccounts:function(e,t){e.fetching=!1,e.accounts=t.payload},addSawtoothAccount:function(e,t){var n=t.payload;""===n.privateKeyHex&&(n.privateKeyHex=!1),e.accounts.push(n)},deleteSawtoothAccount:function(e,t){e.accounts=e.accounts.filter((function(e){return e.publicKeyHex!==t.payload.publicKeyHex}))}}}),ue=be.reducer,de=be.actions,he=de.setFetchedAccounts,pe=de.addSawtoothAccount,xe=de.deleteSawtoothAccount,Oe=n(69).createSlice,ge={selectedAccount:null,eduPrograms:null,selectedEduProgram:null,show:"none"},me=Oe({name:"shareCertificateSlice",initialState:ge,reducers:{deselectAccount:function(e,t){Object.assign(e,ge)},setSelectedAccAndEduPrograms:function(e,t){e.selectedAccount=t.payload.selectedAccount,e.eduPrograms=t.payload.eduPrograms},setSelectedEduProgram:function(e,t){e.selectedEduProgram=t.payload.selectedEduProgram,e.show="encrypt"},deselectEduProgram:function(e,t){e.selectedEduProgram=null,e.show="none"},setDecryptedEduProgram:function(e,t){e.decryptedEduProgram=t.payload,e.show="decrypt"}}}),fe=me.reducer,ve=me.actions,ye=ve.deselectAccount,ke=ve.setSelectedAccAndEduPrograms,we=ve.setSelectedEduProgram,Se=ve.deselectEduProgram,Ce=ve.setDecryptedEduProgram,Ne=Object(re.d)({studentProfileSlice:je,sawtoothAccountsSlice:ue,shareCertificateSlice:fe}),Pe=Object(ce.configureStore)({reducer:function(e,t){return"RESET_STORE"===t.type&&(e=void 0),Ne(e,t)}});var Te=n(36),Ee=n.n(Te),Ae=!0;function We(e){Ae=e}function ze(e){sessionStorage.setItem("token","Bearer "+e),Ee.a.defaults.headers.common.Authorization="Bearer "+e}function Ie(e){localStorage.setItem("token","Bearer "+e),Ee.a.defaults.headers.common.Authorization="Bearer "+e}function Ke(){return Ae?localStorage.getItem("token"):sessionStorage.getItem("token")}var He=Object(b.a)((function(){return{root:{},avatar:{width:60,height:60}}})),Be=function(e){var t=e.className,n=e.onMobileNavOpen,c=Object(H.a)(e,["className","onMobileNavOpen"]),i=He(),s=Object(r.useState)([]),j=Object(k.a)(s,1)[0],b=Object(l.g)(),u=Object(F.b)();return Object(a.jsx)(Q.a,Object(K.a)(Object(K.a)({className:Object(B.a)(i.root,t),elevation:0},c),{},{children:Object(a.jsxs)(V.a,{children:[Object(a.jsx)(o.b,{to:"/",children:Object(a.jsx)(ae,{})}),Object(a.jsx)(S.a,{flexGrow:1}),Object(a.jsxs)(E.a,{mdDown:!0,children:[Object(a.jsx)(U.a,{color:"inherit",children:Object(a.jsx)(X.a,{badgeContent:j.length,color:"primary",variant:"dot",children:Object(a.jsx)(ne.a,{})})}),Object(a.jsx)(U.a,{color:"inherit",onClick:function(e){sessionStorage.removeItem("role"),localStorage.removeItem("role"),Ee.a.defaults.headers.common.Authorization=null,Ae?localStorage.removeItem("token"):sessionStorage.removeItem("token"),u({type:"RESET_STORE"}),b("/")},children:Object(a.jsx)($.a,{})})]}),Object(a.jsx)(E.a,{lgUp:!0,children:Object(a.jsx)(U.a,{color:"inherit",onClick:n,children:Object(a.jsx)(ee.a,{})})})]})}))},De=n(349),Me=Object(b.a)((function(e){return{root:{height:"100vh",display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"64px auto",rowGap:"5px","& *":{height:"100%"}},main:{display:"grid",gridTemplateColumns:"256px auto",columnGap:"5px"},sidebar:{display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"128px auto",rowGap:"5px"}}}));function Ge(e){var t=Me();return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)("div",{className:t.topbar,children:Object(a.jsx)(De.a,{variant:"rect"})}),Object(a.jsxs)("div",{className:t.main,children:[Object(a.jsxs)("div",{className:t.sidebar,children:[Object(a.jsx)("div",{className:t.info,children:Object(a.jsx)(De.a,{variant:"rect"})}),Object(a.jsx)("div",{className:t.navlink,children:Object(a.jsx)(De.a,{variant:"rect"})})]}),Object(a.jsx)("div",{className:t.content,children:Object(a.jsx)(De.a,{variant:"rect"})})]})]})}var qe=n(240),Fe=n.n(qe),Le=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:Object(w.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},e.breakpoints.up("lg"),{paddingLeft:256}),contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),Je=function(){var e=Le(),t=Object(r.useState)(!1),n=Object(k.a)(t,2),c=n[0],i=n[1],s=Object(F.c)((function(e){return e.studentProfileSlice.fetching})),o=Object(F.b)();function j(){return(j=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://student-backend.b4e.vn:8002","/student/profile"),{headers:{Authorization:Ke()}});case 3:if((t=e.sent).ok){e.next=14;break}return e.t0=alert,e.t1=JSON,e.next=9,t.json();case 9:e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),(0,e.t0)(e.t3),e.next=21;break;case 14:return e.t4=o,e.t5=oe,e.next=18,t.json();case 18:e.t6=e.sent,e.t7=(0,e.t5)(e.t6),(0,e.t4)(e.t7);case 21:e.next=27;break;case 23:e.prev=23,e.t8=e.catch(0),console.log(e.t8),alert(e.t8);case 27:case"end":return e.stop()}}),e,null,[[0,23]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){j.apply(this,arguments)}()}),[]),Object(a.jsx)(a.Fragment,{children:s?Object(a.jsx)(Ge,{}):Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(Be,{onMobileNavOpen:function(){return i(!0)}}),Object(a.jsx)(_,{onMobileClose:function(){return i(!1)},openMobile:c}),Object(a.jsx)("div",{className:e.wrapper,children:Object(a.jsx)("div",{className:e.contentContainer,children:Object(a.jsx)("div",{className:e.content,children:Object(a.jsx)(Fe.a,{children:Object(a.jsx)(l.b,{})})})})})]})})})},Re=Object(b.a)({root:{},toolbar:{height:64}}),_e=function(e){var t=e.className,n=Object(H.a)(e,["className"]),r=Re();return Object(a.jsx)(Q.a,Object(K.a)(Object(K.a)({className:Object(B.a)(r.root,t),elevation:0},n),{},{children:Object(a.jsx)(V.a,{className:r.toolbar,children:Object(a.jsx)(o.b,{to:"/",children:Object(a.jsx)(ae,{})})})}))},Qe=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"},wrapper:{display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},contentContainer:{display:"flex",flex:"1 1 auto",overflow:"hidden"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),Ve=function(){var e=Qe();return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(_e,{}),Object(a.jsx)("div",{className:e.wrapper,children:Object(a.jsx)("div",{className:e.contentContainer,children:Object(a.jsx)("div",{className:e.content,children:Object(a.jsx)(l.b,{})})})})]})},Ue=n(350),Xe=n(241),Ye=Object(r.forwardRef)((function(e,t){var n=e.children,r=e.title,c=void 0===r?"":r,i=Object(H.a)(e,["children","title"]);return Object(a.jsxs)("div",Object(K.a)(Object(K.a)({ref:t},i),{},{children:[Object(a.jsx)(Xe.a,{children:Object(a.jsx)("title",{children:c})}),n]}))})),$e=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},image:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}}})),Ze=function(){var e=$e();return Object(a.jsx)(Ye,{className:e.root,title:"404",children:Object(a.jsx)(S.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",children:Object(a.jsxs)(Ue.a,{maxWidth:"md",children:[Object(a.jsx)(N.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(a.jsx)(N.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(a.jsx)(S.a,{textAlign:"center"})]})})})},et=n(352),tt=n(353),nt=n(351),at=n(354),rt=n(123),ct=n.n(rt),it=n(377);function st(){return Object(a.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(nt.a,{component:o.b,to:"/",children:"B4E Website"})," ",(new Date).getFullYear(),"."]})}var ot=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},alert:{marginTop:e.spacing(3)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function lt(){var e=ot(),t=Object(r.useState)({email:"",password:"",repassword:""}),n=Object(k.a)(t,2),c=n[0],i=n[1],s=Object(r.useState)({}),j=Object(k.a)(s,2),b=j[0],u=j[1],d=Object(r.useState)(null),h=Object(k.a)(d,2),p=h[0],x=h[1],O=Object(l.g)();function g(){return(g=Object(y.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat("https://student-backend.b4e.vn:8002","/acc/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 3:if((n=e.sent).ok){e.next=11;break}return e.next=7,n.json();case 7:a=e.sent,u(a),e.next=18;break;case 11:return e.next=13,n.json();case 13:Ie(e.sent.token),u(null),x("\u0110\u0103ng k\xed t\xe0i kho\u1ea3n th\xe0nh c\xf4ng!"),setTimeout((function(){return O("/nh/thong-tin-ca-nhan")}),1e3);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(Ue.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(et.a,{}),Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)(C.a,{className:e.avatar,children:Object(a.jsx)(ct.a,{})}),Object(a.jsx)(N.a,{component:"h1",variant:"h3",children:"\u0110\u0103ng k\xed t\xe0i kho\u1ea3n Ng\u01b0\u1eddi h\u1ecdc"}),Object(a.jsx)("div",{children:p?Object(a.jsx)(it.a,{className:e.alert,severity:"success",children:p}):null}),Object(a.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(a.jsxs)(tt.a,{container:!0,spacing:2,children:[Object(a.jsx)(tt.a,{item:!0,xs:12,children:Object(a.jsx)(at.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email",value:c.email,onChange:function(e){i(Object(K.a)(Object(K.a)({},c),{},{email:e.target.value})),u(null)},error:null===b||void 0===b?void 0:b.email,helperText:null===b||void 0===b?void 0:b.email,disabled:Boolean(p)})}),Object(a.jsx)(tt.a,{item:!0,xs:12,children:Object(a.jsx)(at.a,{variant:"outlined",required:!0,fullWidth:!0,label:"M\u1eadt kh\u1ea9u",type:"password",id:"password",value:c.password,onChange:function(e){i(Object(K.a)(Object(K.a)({},c),{},{password:e.target.value})),u(null)},error:null===b||void 0===b?void 0:b.password,helperText:null===b||void 0===b?void 0:b.password,disabled:Boolean(p)})}),Object(a.jsx)(tt.a,{item:!0,xs:12,children:Object(a.jsx)(at.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",type:"password",id:"rePassword",value:c.repassword,onChange:function(e){i(Object(K.a)(Object(K.a)({},c),{},{repassword:e.target.value})),u(null)},error:null===b||void 0===b?void 0:b.repassword,helperText:null===b||void 0===b?void 0:b.repassword,disabled:Boolean(p)})})]}),Object(a.jsx)(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return g.apply(this,arguments)},children:"\u0110\u0103ng k\xed"}),Object(a.jsx)(tt.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(tt.a,{item:!0,children:Object(a.jsx)(nt.a,{component:o.b,to:"/dang-nhap",children:"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n r\u1ed3i? \u0110\u0103ng nh\u1eadp"})})})]})]}),Object(a.jsx)(S.a,{mt:5,children:Object(a.jsx)(st,{})})]})}var jt=n(376),bt=n(355);function ut(){return Object(a.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(nt.a,{component:o.b,to:"/",children:"B4E Website"})," ",(new Date).getFullYear(),"."]})}var dt=Object(b.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},alert:{marginTop:e.spacing(3)},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},link:{color:e.palette.primary.main}}}));function ht(){var e=dt(),t=Object(r.useState)({email:"",password:"",remember:!0}),n=Object(k.a)(t,2),c=n[0],i=n[1],s=Object(r.useState)(null),j=Object(k.a)(s,2),b=j[0],u=j[1],d=Object(l.g)();function h(){return(h=Object(y.a)(v.a.mark((function e(t){var n,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat("https://student-backend.b4e.vn:8002","/acc/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.email,password:c.password})});case 3:if((n=e.sent).ok){e.next=11;break}return e.next=7,n.json();case 7:a=e.sent,u(a),e.next=16;break;case 11:return e.next=13,n.json();case 13:r=e.sent,c.remember?(Ie(r.token),We(!0)):(ze(r.token),We(!1)),d("/nh/thong-tin-ca-nhan");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(Ue.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(et.a,{}),Object(a.jsxs)("div",{className:e.paper,children:[Object(a.jsx)(C.a,{className:e.avatar,children:Object(a.jsx)(ct.a,{})}),Object(a.jsx)(N.a,{component:"h1",variant:"h3",children:"\u0110\u0103ng nh\u1eadp t\xe0i kho\u1ea3n Ng\u01b0\u1eddi h\u1ecdc"}),Object(a.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(a.jsx)(at.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,value:c.email,onChange:function(e){i(Object(K.a)(Object(K.a)({},c),{},{email:e.target.value})),u(Object(K.a)(Object(K.a)({},b),{},{email:null}))},error:null===b||void 0===b?void 0:b.email,helperText:null===b||void 0===b?void 0:b.email}),Object(a.jsx)(at.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"M\u1eadt kh\u1ea9u",type:"password",id:"password",autoComplete:"password",value:c.password,onChange:function(e){i(Object(K.a)(Object(K.a)({},c),{},{password:e.target.value})),u(Object(K.a)(Object(K.a)({},b),{},{password:null}))},error:null===b||void 0===b?void 0:b.password,helperText:null===b||void 0===b?void 0:b.password}),Object(a.jsx)(bt.a,{control:Object(a.jsx)(jt.a,{checked:c.remember,onChange:function(e){return i(Object(K.a)(Object(K.a)({},c),{},{remember:!c.remember}))},color:"primary"}),label:"Nh\u1edb \u0111\u0103ng nh\u1eadp"}),Object(a.jsx)(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){return h.apply(this,arguments)},children:"\u0110\u0103ng nh\u1eadp"}),Object(a.jsxs)(tt.a,{container:!0,children:[Object(a.jsx)(tt.a,{item:!0,xs:!0,children:Object(a.jsx)(nt.a,{componet:o.b,to:"#",variant:"body2",children:"Qu\xean m\u1eadt kh\u1ea9u?"})}),Object(a.jsx)(tt.a,{item:!0,children:Object(a.jsx)(nt.a,{component:o.b,to:"/dang-ki",children:"Ch\u01b0a c\xf3 t\xe0i kho\u1ea3n? \u0110\u0103ng k\xed"})})]})]})]}),Object(a.jsx)(S.a,{mt:8,children:Object(a.jsx)(ut,{})})]})}function pt(e){var t=e.children,n=e.title;return Object(a.jsx)("div",{children:Object(a.jsx)(Ye,{title:n,children:Object(a.jsx)(Ue.a,{children:Object(a.jsx)(S.a,{py:3,children:t})})})})}var xt=n(252),Ot=n(92),gt=n(306),mt=n(307),ft=n(319),vt=n(361),yt=n(28),kt=n(374),wt=n(27),St=Object(b.a)((function(e){return{root:{},head:{width:"95%",margin:"auto",padding:e.spacing(2.5,2),backgroundColor:e.palette.primary.main,color:"white",position:"relative"},body:{width:"100%",marginTop:"-32px"},box:{padding:e.spacing(8,3,3,3),"& > *":{marginBottom:e.spacing(3),"&:last-child":{marginBottom:0}}}}}));function Ct(){var e=St(),t=Object(F.c)((function(e){return e.studentProfileSlice})),n=Object(r.useState)(t),c=Object(k.a)(n,2),i=c[0],s=c[1],o=Object(r.useState)(i),l=Object(k.a)(o,2),j=l[0],b=l[1],u=Object(wt.b)().enqueueSnackbar,d=Object(F.b)();function h(){return(h=Object(y.a)(v.a.mark((function e(n){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.preventDefault(),j!==i){e.next=5;break}return u("Nothing changed",{variant:"info",anchorOrigin:{vertical:"bottom",horizontal:"center"}}),e.abrupt("return");case 5:return e.next=7,fetch("".concat("https://student-backend.b4e.vn:8002","/student/profile"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:Ke()},body:JSON.stringify(Object(K.a)(Object(K.a)({},i),{},{fetching:void 0,imgSrc:void 0}))});case 7:if((a=e.sent).ok){e.next=15;break}return e.next=11,a.json();case 11:r=e.sent,u("Something went wrong: "+JSON.stringify(r),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.next=18;break;case 15:b(i),d(oe(Object(K.a)(Object(K.a)({},i),{},{imgSrc:t.imgSrc}))),u("C\u1eadp nh\u1eadt Profile th\xe0nh c\xf4ng!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),alert(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}return Object(a.jsxs)(S.a,{className:e.root,children:[Object(a.jsxs)(Ot.a,{className:e.head,children:[Object(a.jsx)(N.a,{variant:"h3",children:"Th\xf4ng tin c\xe1 nh\xe2n"}),Object(a.jsx)(N.a,{variant:"subtitle1",children:"Ch\u1ec9nh s\u1eeda l\u1ea1i th\xf4ng tin c\xe1 nh\xe2n (n\u1ebfu c\u1ea7n)"})]}),Object(a.jsx)(S.a,{className:e.body,children:Object(a.jsx)(Ot.a,{children:Object(a.jsxs)(S.a,{className:e.box,children:[Object(a.jsxs)(tt.a,{container:!0,spacing:2,children:[Object(a.jsx)(tt.a,{item:!0,xs:4,children:Object(a.jsx)(at.a,{InputLabelProps:{shrink:!0},id:"name",label:"H\u1ecd v\xe0 t\xean",fullWidth:!0,value:null===i||void 0===i?void 0:i.name,onChange:function(e){return s(Object(K.a)(Object(K.a)({},i),{},{name:e.target.value}))}})}),Object(a.jsx)(tt.a,{item:!0,xs:4,children:Object(a.jsx)(yt.a,{utils:xt.a,children:Object(a.jsx)(kt.a,{id:"birthday",label:"Ng\xe0y sinh",views:["year","month","date"],openTo:"year",disableFuture:!0,autoOk:!0,format:"dd/MM/yyyy",value:null===i||void 0===i?void 0:i.birthDay,onChange:function(e){return s(Object(K.a)(Object(K.a)({},i),{},{birthDay:e}))},KeyboardButtonProps:{"aria-label":"change date"}})})}),Object(a.jsx)(tt.a,{item:!0,xs:4,children:Object(a.jsxs)(gt.a,{fullWidth:!0,children:[Object(a.jsx)(mt.a,{id:"genderlabel",shrink:!0,children:"Gi\u1edbi t\xednh"}),Object(a.jsxs)(ft.a,{id:"gender",labelId:"genderlabel",value:null===i||void 0===i?void 0:i.gender,onChange:function(e){return s(Object(K.a)(Object(K.a)({},i),{},{gender:e.target.value}))},children:[Object(a.jsx)(vt.a,{value:1,children:"Nam"}),Object(a.jsx)(vt.a,{value:2,children:"N\u1eef"}),Object(a.jsx)(vt.a,{value:3,children:"Kh\xe1c"})]})]})})]}),Object(a.jsxs)(tt.a,{container:!0,spacing:2,children:[Object(a.jsx)(tt.a,{item:!0,xs:4,children:Object(a.jsx)(at.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",label:"CMT/CCCD",value:null===i||void 0===i?void 0:i.cmt,onChange:function(e){return s(Object(K.a)(Object(K.a)({},i),{},{cmt:e.target.value}))}})}),Object(a.jsx)(tt.a,{item:!0,xs:4,children:Object(a.jsx)(at.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",label:"Email",value:null===i||void 0===i?void 0:i.email,onChange:function(e){return s(Object(K.a)(Object(K.a)({},i),{},{email:e.target.value}))}})}),Object(a.jsx)(tt.a,{item:!0,xs:4,children:Object(a.jsx)(at.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",value:null===i||void 0===i?void 0:i.phone,onChange:function(e){return s(Object(K.a)(Object(K.a)({},i),{},{phone:e.target.value}))}})})]}),Object(a.jsxs)(tt.a,{container:!0,spacing:2,children:[Object(a.jsx)(tt.a,{item:!0,xs:6,children:Object(a.jsx)(at.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",xs:12,label:"Qu\xea qu\xe1n",value:null===i||void 0===i?void 0:i.hometown,onChange:function(e){return s(Object(K.a)(Object(K.a)({},i),{},{hometown:e.target.value}))}})}),Object(a.jsx)(tt.a,{item:!0,xs:6,children:Object(a.jsx)(at.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",xs:12,label:"N\u01a1i \u1edf hi\u1ec7n t\u1ea1i",value:null===i||void 0===i?void 0:i.address,onChange:function(e){return s(Object(K.a)(Object(K.a)({},i),{},{address:e.target.value}))}})})]}),Object(a.jsx)(tt.a,{container:!0,spacing:2,children:Object(a.jsx)(tt.a,{item:!0,xs:12,children:Object(a.jsx)(at.a,{InputLabelProps:{shrink:!0},fullWidth:!0,margin:"normal",xs:12,label:"M\xf4 t\u1ea3 b\u1ea3n th\xe2n",multiline:!0,rows:4,value:null===i||void 0===i?void 0:i.description,onChange:function(e){return s(Object(K.a)(Object(K.a)({},i),{},{description:e.target.value}))}})})}),Object(a.jsx)(S.a,{textAlign:"right",children:Object(a.jsx)(M.a,{color:"primary",variant:"contained",onClick:function(e){return h.apply(this,arguments)},children:"C\u1eadp nh\u1eadt th\xf4ng tin"})})]})})})]})}var Nt=Object(b.a)((function(e){return{root:{},avatar:{height:"128px",width:"128px",margin:"auto",position:"relative"},paper:{marginTop:"-64px",width:"100%"},name:{fontWeight:600},description:{fontWeight:300,lineHeight:"1.5rem"}}}));function Pt(){var e=Nt(),t=Object(F.c)((function(e){return e.studentProfileSlice.name})),n=Object(F.c)((function(e){return e.studentProfileSlice.imgSrc})),r=Object(F.c)((function(e){return e.studentProfileSlice.description})),c=Object(wt.b)().enqueueSnackbar,i=Object(F.b)();function s(){return(s=Object(y.a)(v.a.mark((function e(t){var n,a,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("avatar",t.target.files[0]),e.next=4,fetch("".concat("https://student-backend.b4e.vn:8002","/student/change-avatar"),{method:"POST",headers:{Authorization:Ke()},body:n});case 4:if((a=e.sent).ok){e.next=12;break}return e.next=8,a.json();case 8:r=e.sent,c("Something went wrong: "+JSON.stringify(r),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.next=17;break;case 12:return e.next=14,a.json();case 14:s=e.sent,i(le(s)),c("C\u1eadp nh\u1eadt Avatar th\xe0nh c\xf4ng!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"right"}});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(S.a,{className:e.root,children:[Object(a.jsxs)("label",{htmlFor:"avatar",children:[Object(a.jsx)("input",{type:"file",accept:"image/*",id:"avatar",style:{display:"none"},onChange:function(e){return s.apply(this,arguments)}}),Object(a.jsx)(C.a,{src:n,className:e.avatar})]}),Object(a.jsx)(Ot.a,{className:e.paper,children:Object(a.jsxs)(S.a,{textAlign:"center",px:3,pb:3,pt:"96px",children:[Object(a.jsx)(N.a,{variant:"h5",gutterBottom:!0,children:"Sinh vi\xean \u0110\u1ea1i h\u1ecdc"}),Object(a.jsx)(N.a,{variant:"h3",gutterBottom:!0,className:e.name,children:t||"Nguyen Van A"}),Object(a.jsx)(N.a,{variant:"body2",className:e.description,children:r||"Quisque laoreet, sem a cursus blandit, lectus libero vestibulum purus, id malesuada risus sem id nulla. Curabitur suscipit, dolor at imperdiet dapibus, arcu massa semper enim, vitae consectetur nulla leo blandit nisi. Duis aliquam non turpis sit amet pellentesque. Sed arcu neque, sollicitudin vel ultricies"})]})})]})}function Tt(){return Object(a.jsx)("div",{children:Object(a.jsx)(pt,{title:"Th\xf4ng tin c\xe1 nh\xe2n",children:Object(a.jsxs)(tt.a,{container:!0,spacing:4,children:[Object(a.jsx)(tt.a,{item:!0,xs:12,md:8,children:Object(a.jsx)(Ct,{})}),Object(a.jsx)(tt.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(Pt,{})})]})})})}function Et(e){return Object(a.jsx)("div",{})}var At=n(362),Wt=n(363),zt=n(364),It=n(365),Kt=n(366),Ht=n(367),Bt=n(246),Dt=n.n(Bt),Mt=Object(b.a)((function(e){return{root:{},head:{padding:e.spacing(2),backgroundColor:e.palette.primary.main,color:"white"}}}));function Gt(e){var t=Mt(),n=Object(F.c)((function(e){return e.sawtoothAccountsSlice.accounts})),r=Object(F.b)(),c=Object(wt.b)().enqueueSnackbar;function i(){return(i=Object(y.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://student-backend.b4e.vn:8002","/student/sawtooth-accounts"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:Ke()},body:JSON.stringify({publicKeyHex:t})});case 2:n=e.sent,a=n.json(),n.ok?(r(xe({publicKeyHex:t})),c("X\xf3a t\xe0i kho\u1ea3n th\xe0nh c\xf4ng!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}})):c("Something went wrong: "+JSON.stringify(a),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsxs)(Ot.a,{children:[Object(a.jsx)(N.a,{variant:"h3",className:t.head,children:"Danh s\xe1ch c\xe1c t\xe0i kho\u1ea3n"}),Object(a.jsx)(P.a,{}),Object(a.jsx)(S.a,{pt:1,children:Object(a.jsx)(At.a,{children:Object(a.jsxs)(Wt.a,{size:"small",children:[Object(a.jsx)(zt.a,{children:Object(a.jsxs)(It.a,{children:[Object(a.jsx)(Kt.a,{children:"#"}),Object(a.jsx)(Kt.a,{children:"Public key"}),Object(a.jsx)(Kt.a,{children:"Private key"}),Object(a.jsx)(Kt.a,{children:"Ghi ch\xfa"}),Object(a.jsx)(Kt.a,{align:"center",children:"X\xf3a"})]})}),Object(a.jsx)(Ht.a,{children:n.map((function(e,t){var n=e.publicKeyHex.slice(0,30)+"..."+e.publicKeyHex.slice(-30);return Object(a.jsxs)(It.a,{children:[Object(a.jsx)(Kt.a,{children:t+1}),Object(a.jsx)(Kt.a,{children:n}),Object(a.jsx)(Kt.a,{children:e.privateKeyHex?"*".repeat(e.privateKeyHex.length):"Kh\xf4ng l\u01b0u"}),Object(a.jsx)(Kt.a,{children:e.note}),Object(a.jsx)(Kt.a,{align:"center",children:Object(a.jsx)(U.a,{onClick:function(t){return function(e){return i.apply(this,arguments)}(e.publicKeyHex)},children:Object(a.jsx)(Dt.a,{})})})]},t)}))})]})})})]})}var qt=Object(b.a)((function(e){return{root:{},head:{padding:e.spacing(2),backgroundColor:e.palette.primary.main,color:"white"},subtitle:{marginBottom:e.spacing(3)}}}));function Ft(e){var t=qt(),n=Object(r.useState)({publicKeyHex:"",privateKeyHex:"",note:""}),c=Object(k.a)(n,2),i=c[0],s=c[1],o=Object(wt.b)().enqueueSnackbar,l=Object(F.b)();function j(){return(j=Object(y.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),""!==i.publicKeyHex){e.next=5;break}return o("Public key is require!",{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.abrupt("return");case 5:return e.next=7,fetch("".concat("https://student-backend.b4e.vn:8002","/student/sawtooth-accounts"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:Ke()},body:JSON.stringify(i)});case 7:if((n=e.sent).ok){e.next=15;break}return e.next=11,n.json();case 11:a=e.sent,o("Something went wrong: "+JSON.stringify(a),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}}),e.next=18;break;case 15:l(pe(i)),s({publicKeyHex:"",privateKeyHex:"",note:""}),o("Th\xeam t\xe0i kho\u1ea3n th\xe0nh c\xf4ng!",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"center"}});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),alert(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}return Object(a.jsxs)(Ot.a,{children:[Object(a.jsx)(N.a,{variant:"h3",className:t.head,children:"Th\xeam t\xe0i kho\u1ea3n"}),Object(a.jsxs)(S.a,{px:2,py:3,children:[Object(a.jsx)(N.a,{variant:"h5",className:t.subtitle,children:"Th\xeam t\xe0i kho\u1ea3n b\u1eb1ng public/private key"}),Object(a.jsxs)(tt.a,{container:!0,spacing:4,alignItems:"flex-end",children:[Object(a.jsx)(tt.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(at.a,{label:"Public key",InputLabelProps:{shrink:!0},fullWidth:!0,value:i.publicKeyHex,onChange:function(e){return s(Object(K.a)(Object(K.a)({},i),{},{publicKeyHex:e.target.value}))}})}),Object(a.jsx)(tt.a,{item:!0,xs:12,md:4,children:Object(a.jsx)(at.a,{label:"Private key (optional)",InputLabelProps:{shrink:!0},InputProps:{type:"password"},fullWidth:!0,value:i.privateKeyHex,onChange:function(e){return s(Object(K.a)(Object(K.a)({},i),{},{privateKeyHex:e.target.value}))}})}),Object(a.jsx)(tt.a,{item:!0,xs:12,md:2,children:Object(a.jsx)(at.a,{label:"Ghi ch\xfa",InputLabelProps:{shrink:!0},fullWidth:!0,value:i.note,onChange:function(e){return s(Object(K.a)(Object(K.a)({},i),{},{note:e.target.value}))}})}),Object(a.jsx)(tt.a,{item:!0,xs:12,md:2,children:Object(a.jsx)(S.a,{textAlign:"right",children:Object(a.jsx)(M.a,{variant:"contained",color:"primary",onClick:function(e){return j.apply(this,arguments)},children:"Th\xeam t\xe0i kho\u1ea3n"})})})]})]})]})}var Lt=Object(b.a)((function(e){return{root:{"& > * ":{marginBottom:e.spacing(4)}}}}));function Jt(){var e=Lt(),t=Object(F.c)((function(e){return e.sawtoothAccountsSlice.fetching})),n=Object(F.b)();function c(){return(c=Object(y.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://student-backend.b4e.vn:8002","/student/sawtooth-accounts"),{headers:{Authorization:Ke()}});case 3:if((t=e.sent).ok){e.next=14;break}return e.t0=alert,e.t1=JSON,e.next=9,t.json();case 9:e.t2=e.sent,e.t3=e.t1.stringify.call(e.t1,e.t2),(0,e.t0)(e.t3),e.next=18;break;case 14:return e.next=16,t.json();case 16:a=e.sent,n(he(a));case 18:e.next=24;break;case 20:e.prev=20,e.t4=e.catch(0),console.log(e.t4),alert(e.t4);case 24:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){c.apply(this,arguments)}()}),[]),Object(a.jsx)(pt,{title:"Qu\u1ea3n l\xfd t\xe0i kho\u1ea3n",children:t?null:Object(a.jsxs)(S.a,{className:e.root,children:[Object(a.jsx)(Gt,{}),Object(a.jsx)(Ft,{})]})})}var Rt=n(379),_t={variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}},Qt={variant:"info",anchorOrigin:{vertical:"top",horizontal:"center"}},Vt=Object(b.a)((function(e){return{root:{padding:e.spacing(2,2)}}}));function Ut(e){var t=Vt(),n=Object(F.c)((function(e){return e.sawtoothAccountsSlice.accounts})),r=Object(F.c)((function(e){return e.shareCertificateSlice.selectedAccount})),c=Object(F.b)(),i=Object(wt.b)().enqueueSnackbar;function s(){return(s=Object(y.a)(v.a.mark((function e(t,n){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=4;break}c(ye()),e.next=15;break;case 4:return e.prev=4,e.next=7,Ee.a.get("/student/data/".concat(n.publicKeyHex));case 7:a=e.sent,c(ke({selectedAccount:n,eduPrograms:a.data})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error(e.t0),e.t0.response&&i(JSON.stringify(e.t0.response.data),_t);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}return Object(a.jsx)(Ot.a,{className:t.root,children:Object(a.jsx)(Rt.a,{size:"small",renderInput:function(e){return Object(a.jsx)(at.a,Object(K.a)(Object(K.a)({},e),{},{label:"Ch\u1ecdn t\xe0i kho\u1ea3n",variant:"outlined"}))},options:n,getOptionLabel:function(e){return"".concat(e.publicKeyHex.slice(0,15)+"..."+e.publicKeyHex.slice(-15)," - ").concat(e.note)},value:r,getOptionSelected:function(e,t){return e.publicKeyHex===t.publicKeyHex},onChange:function(e,t){return s.apply(this,arguments)}})})}function Xt(){var e=Object(F.c)((function(e){return e.shareCertificateSlice.eduPrograms})),t=Object(F.c)((function(e){return e.shareCertificateSlice.selectedEduProgram})),n=Object(F.b)();return Object(a.jsx)(Rt.a,{size:"small",renderInput:function(e){return Object(a.jsx)(at.a,Object(K.a)(Object(K.a)({},e),{},{label:"Ch\u1ecdn ch\u01b0\u01a1ng tr\xecnh \u0111\xe0o t\u1ea1o",variant:"outlined"}))},options:e,getOptionLabel:function(e){return e.subjects[0].versions[0].portfolio_id},value:t,getOptionSelected:function(e,t){return e.subjects[0].versions[0].portfolio_id===t.subjects[0].versions[0].portfolio_id},onChange:function(e,t){n(t?we({selectedEduProgram:t}):Se())}})}var Yt=Object(b.a)((function(e){return{root:{padding:e.spacing(2)}}}));function $t(e){var t=Yt(),n=Object(F.c)((function(e){var t,n=null===(t=e.shareCertificateSlice.selectedEduProgram.certificate)||void 0===t?void 0:t.versions;return n?n[n.length-1].cipher:Object(a.jsx)(N.a,{children:"Ch\u01b0a c\xf3 b\u1eb1ng c\u1ea5p!"})}));return Object(a.jsx)("div",{children:Object(a.jsxs)(Ot.a,{className:t.root,children:[Object(a.jsx)(S.a,{mb:1,children:Object(a.jsx)(N.a,{variant:"h4",children:"Th\xf4ng tin b\u1eb1ng c\u1ea5p (d\u1ea1ng m\xe3 h\xf3a)"})}),Object(a.jsx)(P.a,{}),Object(a.jsx)(S.a,{mt:2,style:{wordWrap:"break-word"},children:n})]})})}var Zt=Object(b.a)((function(e){return{root:{padding:e.spacing(2)}}}));function en(e){var t=Zt(),n=Object(F.c)((function(e){return e.shareCertificateSlice.selectedEduProgram.subjects}));return Object(a.jsx)("div",{children:Object(a.jsxs)(Ot.a,{className:t.root,children:[Object(a.jsx)(S.a,{mb:1,children:Object(a.jsx)(N.a,{variant:"h4",children:"Th\xf4ng tin b\u1ea3ng \u0111i\u1ec3m (d\u1ea1ng m\xe3 h\xf3a)"})}),Object(a.jsx)(P.a,{}),Object(a.jsx)(S.a,{mt:2,children:n.map((function(e,t){return Object(a.jsx)(c.a.Fragment,{children:e.versions.map((function(e,t){return Object(a.jsx)(S.a,{mt:2,style:{wordWrap:"break-word"},children:e.cipher},t)}))},t)}))})]})})}var tn=n(369),nn=null;function an(e){return rn.apply(this,arguments)}function rn(){return(rn=Object(y.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!nn){e.next=2;break}return e.abrupt("return",nn);case 2:return t("H\xe3y m\u1edf v\xed v\xe0 ch\u1ecdn t\xe0i kho\u1ea3n!",Qt),e.abrupt("return",new Promise((function(e,n){var a=Math.floor(9999*Math.random());window.addEventListener("message",(function(r){"SIGN_RESPONSE"===r.data.type&&r.data.tabId===a&&(r.data.accept?(nn=r.data.account.privateKey,e(nn)):(t("B\u1ea1n c\u1ea7n ch\u1ecdn m\u1ed9t t\xe0i kho\u1ea3n \u0111\u1ec3 c\xf3 th\u1ec3 th\u1ef1c hi\u1ec7n thao t\xe1c n\xe0y!",_t),n()))})),window.postMessage({type:"SIGN_REQUEST",tabId:a})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cn=Object(b.a)((function(e){return{root:{padding:e.spacing(2),"& .MuiTypography-gutterBottom":{marginBottom:0}}}}));function sn(){var e=Object(F.c)((function(e){return e.shareCertificateSlice.selectedAccount})),t=Object(F.c)((function(e){return e.shareCertificateSlice.selectedEduProgram})),n=cn(),r=Object(F.b)(),c=Object(wt.b)().enqueueSnackbar;function i(){return(i=Object(y.a)(v.a.mark((function n(){var a,i;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.privateKey){n.next=5;break}return n.next=4,an(c);case 4:a=n.sent;case 5:return n.prev=5,n.next=8,Ee.a.post("/student/decrypt-eduprogram",{privateKeyHex:a,selectedEduProgram:t});case 8:i=n.sent,r(Ce(i.data)),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(5),console.error(n.t0),n.t0.response&&c(JSON.stringify(n.t0.response.data),_t);case 16:case"end":return n.stop()}}),n,null,[[5,12]])})))).apply(this,arguments)}return Object(a.jsx)(Ot.a,{className:n.root,children:Object(a.jsxs)(S.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(S.a,{flexGrow:1,children:Object(a.jsx)(it.a,{severity:"success",children:Object(a.jsx)(tn.a,{children:"L\u1ea5y d\u1eef li\u1ec7u b\u1ea3n m\xe3 th\xe0nh c\xf4ng!"})})}),Object(a.jsx)(S.a,{pl:2,flexShrink:0,children:Object(a.jsx)(M.a,{variant:"contained",color:"primary",onClick:function(){return i.apply(this,arguments)},children:"Gi\u1ea3i m\xe3"})})]})})}var on=Object(b.a)((function(e){return{root:{"& > *":{margin:e.spacing(2,0)}}}}));function ln(e){var t=on();return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(sn,{}),Object(a.jsx)($t,{}),Object(a.jsx)(en,{})]})}var jn=n(356),bn=n(370),un=n(357),dn=n(371),hn=n(358),pn=n(249),xn=n.n(pn),On=Object(b.a)((function(e){return{root:{padding:e.spacing(2),"& .MuiTypography-gutterBottom":{marginBottom:0}}}}));function gn(e){var t=On(),n=Object(F.c)((function(e){return e.shareCertificateSlice.decryptedEduProgram})),c=Object(F.c)((function(e){return e.shareCertificateSlice.selectedAccount})),i=Object(r.useState)(null),s=Object(k.a)(i,2),o=s[0],l=s[1],j=Object(wt.b)().enqueueSnackbar;function b(){return(b=Object(y.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.certificate){e.next=3;break}return j("Ch\u01b0a c\xf3 b\u1eb1ng c\u1ea5p \u0111\u1ec3 chia s\u1ebb!",_t),e.abrupt("return");case 3:if("revoke"!==n.certificate.versions[0].type){e.next=6;break}return j("Kh\xf4ng th\u1ec3 chia s\u1ebb b\u1eb1ng c\u1ea5p \u0111\xe3 b\u1ecb thu h\u1ed3i!",_t),e.abrupt("return");case 6:return e.prev=6,e.next=9,Ee.a.post("/student/gen-token",Object(K.a)({publicKeyHex:c.publicKeyHex},n));case 9:t=e.sent,l(t.data.token),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),j(JSON.stringify(e.t0.response.data),_t);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}return Object(a.jsxs)(Ot.a,{className:t.root,children:[Object(a.jsxs)(S.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(S.a,{flexGrow:1,children:Object(a.jsx)(it.a,{severity:"success",children:Object(a.jsx)(tn.a,{children:"Gi\u1ea3i m\xe3 d\u1eef li\u1ec7u th\xe0nh c\xf4ng!"})})}),Object(a.jsx)(S.a,{pl:2,flexShrink:0,children:Object(a.jsx)(M.a,{variant:"contained",color:"primary",onClick:function(){return b.apply(this,arguments)},disabled:Boolean(!n.certificate),children:"Chia s\u1ebb"})})]}),Object(a.jsx)(mn,{token:o,setToken:l})]})}function mn(e){var t=e.token,n=e.setToken;return Object(a.jsxs)(jn.a,{open:Boolean(t),onClose:function(e){return n(null)},children:[Object(a.jsx)(bn.a,{children:"Token"}),Object(a.jsx)(un.a,{children:Object(a.jsxs)(dn.a,{style:{wordWrap:"break-word"},children:[t," "]})}),Object(a.jsxs)(hn.a,{children:[Object(a.jsx)(M.a,{color:"primary",onClick:function(e){navigator.clipboard.writeText(t),n(null)},children:"Copy"}),Object(a.jsx)(M.a,{color:"primary",onClick:function(e){var a=new Blob([t],{type:"text/plain;charset=utf-8"});xn.a.saveAs(a,"B4E-Certificate-Token.jwt"),n(null)},children:"Download"})]})]})}var fn=n(372),vn=n(250),yn=n.n(vn),kn=n(251),wn=n.n(kn);function Sn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return Object(a.jsxs)(nt.a,{target:"_blank",href:"".concat("https://explorer-backend.b4e.vn:3006","/#/transactions/").concat(e),children:[e.slice(0,t),"..."]})}var Cn=Object(b.a)((function(e){return{root:{padding:e.spacing(0,2,2,2)}}}));function Nn(e){var t=Cn(),n=Object(F.c)((function(e){var t,n;return null===(t=e.shareCertificateSlice.decryptedEduProgram)||void 0===t||null===(n=t.certificate)||void 0===n?void 0:n.versions}));return Object(a.jsx)("div",{children:Object(a.jsxs)(Ot.a,{className:t.root,children:[!n&&Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(S.a,{pt:2,pb:1,children:[Object(a.jsx)(N.a,{variant:"h4",gutterBottom:!0,children:"Th\xf4ng tin b\u1eb1ng c\u1ea5p"}),Object(a.jsx)(P.a,{}),Object(a.jsx)(N.a,{style:{paddingTop:"8px"},children:"Ch\u01b0a c\xf3 b\u1eb1ng c\u1ea5p!"})]})}),n&&n[n.length-1]&&Object(a.jsx)(Pn,{cert:n[n.length-1]})]})})}function Pn(e){var t=e.cert;console.log(t);var n=function(e,t){var n=Sn(t.txid),a={"H\u1ecd v\xe0 t\xean":e.name,"Ng\xe0y sinh":e.birthday,"Gi\u1edbi t\xednh":e.gender,"Tr\u01b0\u1eddng":e.university,"Ng\xe0nh h\u1ecdc":e.faculty,"Lo\u1ea1i b\u1eb1ng":e.degree,"N\u0103m t\u1ed1t nghi\u1ec7p":e.gradyear},r={"X\u1ebfp lo\u1ea1i":e.level,"H\xecnh th\u1ee9c \u0111\xe0o t\u1ea1o":e.eduform,"N\u01a1i c\u1ea5p":e.issuelocation,"Ng\xe0y c\u1ea5p":e.issuedate,"Hi\u1ec7u tr\u01b0\u1edfng":e.headmaster,"S\u1ed1 hi\u1ec7u v\xe0o s\u1ed5":e.globalregisno,Txid:n};return[a,r]}(t.plain,t),r=Object(k.a)(n,2),c=r[0],i=r[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(S.a,{pt:2,pb:1,display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(a.jsx)(N.a,{variant:"h4",children:"Th\xf4ng tin b\u1eb1ng c\u1ea5p"}),"revoke"!==t.type&&Object(a.jsx)(fn.a,{title:"B\u1eb1ng c\u1ea5p h\u1ee3p l\u1ec7, s\u1eb5n s\xe0ng \u0111\u1ec3 chia s\u1ebb",children:Object(a.jsx)(yn.a,{color:"primary",size:"1rem"})}),"revoke"===!t.type&&Object(a.jsx)(fn.a,{title:"B\u1eb1ng c\u1ea5p \u0111\xe3 b\u1ecb thu h\u1ed3i!",children:Object(a.jsx)(wn.a,{color:"secondary",size:"1rem"})})]}),Object(a.jsx)(P.a,{}),Object(a.jsxs)(tt.a,{container:!0,children:[Object(a.jsx)(tt.a,{item:!0,sm:12,md:6,children:Object(a.jsx)(Tn,{rows:c})}),Object(a.jsx)(tt.a,{item:!0,sm:12,md:6,children:Object(a.jsx)(Tn,{rows:i})})]})]})}function Tn(e){var t=e.rows;return Object(a.jsx)(At.a,{children:Object(a.jsx)(Wt.a,{size:"small",children:Object(a.jsx)(Ht.a,{children:Object.entries(t).map((function(e,t){return Object(a.jsxs)(It.a,{children:[Object(a.jsx)(Kt.a,{style:{width:"50%"},children:e[0]}),Object(a.jsx)(Kt.a,{children:e[1]})]},t)}))})})})}var En=Object(b.a)((function(e){return{root:{padding:e.spacing(2)}}}));function An(e){var t=En(),n=Object(F.c)((function(e){return e.shareCertificateSlice.decryptedEduProgram.subjects}));return Object(a.jsx)("div",{children:Object(a.jsxs)(Ot.a,{className:t.root,children:[Object(a.jsx)(N.a,{gutterBottom:!0,variant:"h4",children:"Th\xf4ng tin b\u1ea3ng \u0111i\u1ec3m"}),Object(a.jsx)(P.a,{}),Object(a.jsx)(At.a,{children:Object(a.jsxs)(Wt.a,{size:"small",children:[Object(a.jsx)(zt.a,{children:Object(a.jsxs)(It.a,{children:[Object(a.jsx)(Kt.a,{children:"K\xec h\u1ecdc"}),Object(a.jsx)(Kt.a,{children:"M\xe3 HP"}),Object(a.jsx)(Kt.a,{children:"T\xean HP"}),Object(a.jsx)(Kt.a,{children:"S\u1ed1 t\xedn ch\u1ec9"}),Object(a.jsx)(Kt.a,{children:"\u0110i\u1ec3m GK"}),Object(a.jsx)(Kt.a,{children:"\u0110i\u1ec3m CK"}),Object(a.jsx)(Kt.a,{children:"M\xe3 GV"}),Object(a.jsx)(Kt.a,{children:"T\xean GV"}),Object(a.jsx)(Kt.a,{children:"Txid"})]})}),Object(a.jsx)(Ht.a,{children:n.map((function(e,t){return Object(a.jsx)(c.a.Fragment,{children:e.versions.map((function(e,t){return Object(a.jsxs)(It.a,{children:[Object(a.jsx)(Kt.a,{children:e.plain.semester}),Object(a.jsx)(Kt.a,{children:e.plain.subject.subjectId}),Object(a.jsx)(Kt.a,{children:e.plain.subject.subjectName}),Object(a.jsx)(Kt.a,{children:e.plain.subject.credit}),Object(a.jsx)(Kt.a,{children:e.plain.halfSemesterPoint}),Object(a.jsx)(Kt.a,{children:e.plain.finalSemesterPoint}),Object(a.jsx)(Kt.a,{children:e.plain.teacherId}),Object(a.jsx)(Kt.a,{children:e.plain.teacherName}),Object(a.jsx)(Kt.a,{children:Sn(e.txid)})]},t)}))},t)}))})]})})]})})}var Wn=Object(b.a)((function(e){return{root:{"& > *":{margin:e.spacing(2,0)}}}}));function zn(e){var t=Wn();return Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(gn,{}),Object(a.jsx)(Nn,{}),Object(a.jsx)(An,{})]})}var In=Object(b.a)((function(e){return{root:{"& > *":{margin:e.spacing(2,0)}}}}));function Kn(e){var t=In(),n=Object(F.c)((function(e){return e.shareCertificateSlice.selectedAccount})),r=Object(F.c)((function(e){return e.shareCertificateSlice.eduPrograms})),c=Object(F.c)((function(e){return e.shareCertificateSlice.show}));return Object(a.jsx)(pt,{title:"Chia s\u1ebb b\u1eb1ng c\u1ea5p",children:Object(a.jsxs)(S.a,{className:t.root,children:[Object(a.jsx)(Ut,{}),n&&0===r.length&&Object(a.jsx)(S.a,{p:2,bgcolor:"white",children:Object(a.jsx)(N.a,{children:"Kh\xf4ng t\xecm th\u1ea5y ch\u01b0\u01a1ng tr\xecnh \u0111\xe0o t\u1ea1o n\xe0o!"})}),n&&0!==r.length&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(S.a,{p:2,bgcolor:"white",children:Object(a.jsx)(Xt,{})}),"encrypt"===c&&Object(a.jsx)(ln,{}),"decrypt"===c&&Object(a.jsx)(zn,{})]})]})})}function Hn(e){return Ke()?Object(a.jsx)(l.a,{to:"/nh/thong-tin-ca-nhan"}):Object(a.jsx)(l.a,{to:"/dang-ki"})}var Bn=[{path:"/nh",element:Object(a.jsx)(Je,{}),children:[{path:"thong-tin-ca-nhan",element:Object(a.jsx)(Tt,{})},{path:"quan-ly-tai-khoan",element:Object(a.jsx)(Jt,{})},{path:"chia-se-bang-cap",element:Object(a.jsx)(Kn,{})},{path:"*",element:Object(a.jsx)(l.a,{to:"/404",replace:!0})}]},{path:"test",element:Object(a.jsx)(Et,{})},{path:"/",element:Object(a.jsx)(Ve,{}),children:[{path:"dang-ki",element:Object(a.jsx)(lt,{})},{path:"dang-nhap",element:Object(a.jsx)(ht,{})},{path:"404",element:Object(a.jsx)(Ze,{})},{path:"/",element:Object(a.jsx)(Hn,{})},{path:"*",element:Object(a.jsx)(l.a,{to:"/404"})}]}],Dn=function(){var e=Object(l.i)(Bn);return Object(a.jsxs)(j.a,{theme:m,children:[Object(a.jsx)(h,{}),Object(a.jsx)(F.a,{store:Pe,children:Object(a.jsx)(wt.a,{maxSnack:1,children:e})})]})};Ee.a.defaults.baseURL="".concat("https://student-backend.b4e.vn:8002"),Ee.a.defaults.headers.common.Authorization=Ke(),s.a.render(Object(a.jsx)(o.a,{children:Object(a.jsx)(Dn,{})}),document.getElementById("root"))}},[[298,1,2]]]);
//# sourceMappingURL=main.cf217c89.chunk.js.map